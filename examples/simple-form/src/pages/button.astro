---
import {BButton, BindForm} from '@astro-utils/forms/forms.js';
import 'bootstrap/dist/css/bootstrap.css';
import {Button} from 'reactstrap';
import Layout from '../layouts/Layout.astro';


let showSubmitText: string;
function formSubmit() {
    Astro.locals.session.counter ??= 0;
    Astro.locals.session.counter++;
    showSubmitText = `You clicked ${Astro.locals.session.counter} times`;
}
---
<Layout title="Welcome to Astro Metro.">
    <BindForm key='page'>
        <BindForm key="button">
            <BButton as={Button} props={{color: 'info'}} onClick={formSubmit}>Submit</BButton>
            {showSubmitText}
        </BindForm>

        <BindForm key='text'>
            {showSubmitText}
        </BindForm>
    </BindForm>

</Layout>
